<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Laudos Técnicos</title>

  <!-- Chamada do CSS -->
   <link rel="stylesheet" href="style.css">

  <!-- jsPDF + AutoTable -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.4/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
  <header>
    <h1>Laudos Técnicos</h1>
    <!-- <div class="badge">Gera PDF fiel ao modelo</div> -->
  </header>


  

  <main>
    <!-- Identificação básica (comum) -->
     <button> Buscar Empresa </button>
    <div class="section">
      <h3>Identificação / Identification</h3>
      <div class="grid grid-4">
        <div>
          <label>Cliente / Customer</label>
          <input id="cli" placeholder="Ex.: Indústria XYZ Ltda." />
        </div>
        <div>
          <label>Pessoa de contato / Contact person</label>
          <input id="contact" placeholder="Nome do contato" />
        </div>
        <div>
          <label>CPF / CNPJ</label>          
          </button>
          <input id="cpf" placeholder="00.000.000/0000-00" maxlength="18" oninput="mascaraCpfCnpj(this)" />
        </div>
        <div>
          <label>Nota fiscal / Invoice</label>
          <input id="nf" placeholder="Ex.: 12345" />
        </div>
      </div>
      <div class="grid grid-4" style="margin-top:12px">
        <div>
          <label>Ordem de Serviço / Work order</label>
          <input id="os" placeholder="Ex.: 56789" />
        </div>
        <div>
          <label>Solicitação do cliente / Customer's request</label>
          <input id="req" placeholder="Ex.: Revisão completa" />
        </div>
        <div>
          <label>Data de emissão / Emission date</label>
          <input id="data" type="date" />
        </div>
        <!--<div>
           <label>Logo (para PDF)</label>
          <input id="logoFile" type="file" accept="image/*" />
          <div class="hint">Opcional — será inserido no cabeçalho do PDF.</div>
        </div>-->
      </div>
    </div>

    <!-- Equipamento -->
    <div class="section">
      <h3>Equipamento / Equipment</h3>
      <div class="grid grid-4">
        <div>
          <label>Modelo / Model</label>
          <select id="equipment">
            <option value="">Selecione</option>
            <option value="datalogger">Testo 174-175-177 (Datalogger)</option>
            <option value="analisador310">Testo 310 (Analisador)</option>
            <option value="analisador340">Testo 340 (Analisador)</option>
          </select>
        </div>
        <div>
          <label>Nº de série / Serial number</label>
          <input id="sn" placeholder="Ex.: 123456789" />
        </div>
        <div>
          <label>Sonda / Probe (se aplicável)</label>
          <input id="probe" placeholder="Ex.: Sonda padrão" />
        </div>
        <div>
          <label>Descrição breve do problema / Brief description</label>
          <input id="brief" placeholder="Ex.: Sem leitura de O2" />
        </div>
      </div>
    </div>

    <!-- Campos específicos para datalogger -->
    <div id="dl-extra" class="section" style="display:none">
      <h3>Específico Datalogger</h3>
      <div class="grid grid-3">
        <div>
          <label>Range de medição (Temperatura)</label>
          <input id="dl-range-temp" placeholder="-20 à 55 °C" />
        </div>
        <div>
          <label>Range de medição (Umidade)</label>
          <input id="dl-range-umid" placeholder="0 à 100 %" />
        </div>
        <div>
          <label>Sonda externa / External probe</label>
          <input id="dl-probe-ext" placeholder="—" />
        </div>
      </div>
    </div>

    <!-- Informação dos sensores (analisador) -->
    <div id="ga-sensors" class="section" style="display:none">
      <h3>Informação dos sensores / Sensor information</h3>
      <div class="hint">Preencha os sensores instalados (O2, CO, NO, NO2, SO2 etc.).</div>
      <div class="grid grid-1" style="margin-top:8px">
        <textarea id="sensorRows" placeholder="Um por linha: Sensor; Part number; Serial; Production date; Life expectancy
Ex.: O2; 0393 0000; 12345; 01/2024; 24 meses"></textarea>
      </div>
    </div>

    <!-- Lista de verificação dinâmica -->
    <div class="section tests">
      <h3>Lista de Verificação / Checklist <span class="badge" id="templateTag">—</span></h3>
      <ul id="test-list"><li>Selecione um modelo para carregar os testes.</li></ul>
    </div>

    <!-- Peças e serviços -->
    <div class="section">
      <h3>Peças/Serviços necessários</h3>
      <div class="hint">Um por linha: Código; Quantidade; Descrição; Mandatório(Yes/No)</div>
      <textarea id="parts" placeholder="Ex.:
            0440 3350; 1; Módulo de diluição; Yes
            0393 0102; 1; Célula de NO; No"></textarea>
    </div>

    <div class="actions">
      <button onclick="generateReport()">Exportar Laudo</button>
      <button class="muted" onclick="document.getElementById('form').reset?.()">Limpar</button>
    </div>
  </main>

  <!-- Chamada do JavaScript-->
   <script src="script.js"></script>

   




  </body>
</html>
